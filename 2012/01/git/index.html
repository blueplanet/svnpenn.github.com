<!DOCTYPE html>
<html>

<meta charset='utf-8'>

<title>Git</title>

<link rel='stylesheet' href='/css/style.css'>
<link rel='stylesheet' href='/css/coderay.css'>

<body>

<h1>
<a href='/'>Steven&rsquo;s Blog</a>
</h1>

<div id='container'>
	
	<h2>Git</h2>
	
	<p><img src="/images/2012/git.jpg" alt="width1" /></p>

<h3 id="apply">Apply</h3>
<pre><code>git apply -p0 --check Patch.diff
git apply -p0 Patch.diff
</code></pre>

<h3 id="branch">Branch</h3>

<div><div class="CodeRay">
  <div class="code"><pre><span class="comment"># Create a new branch</span>
git branch nettle
<span class="comment"># Remove a branch</span>
git branch -d nettle
git push origin <span class="reserved">:</span>nettle
</pre></div>
</div>
</div>

<ul>
  <li><a href="http://book.git-scm.com/5_creating_new_empty_branches.html">book.git-scm.com/5_creating_new_empty_branches.html</a></li>
  <li><a href="http://learn.github.com/p/branching.html">learn.github.com/p/branching.html</a></li>
</ul>

<h3 id="checkout">Checkout</h3>

<div><div class="CodeRay">
  <div class="code"><pre><span class="comment"># Undo all local modifications</span>
git checkout -f<span class="comment">    
# Checkout parent of current commit</span>
git checkout HEAD^
<span class="comment"># Checkout old commit</span>
git checkout SHA1
<span class="comment"># Switch branch</span>
git checkout <span class="reserved">[</span>name of the branch you want to switch to<span class="reserved">]</span>
</pre></div>
</div>
</div>

<ul>
  <li><a href="http://linux.yyz.us/git-howto">linux.yyz.us/git-howto</a></li>
</ul>

<h3 id="commit">Commit</h3>

<div><div class="CodeRay">
  <div class="code"><pre><span class="comment"># Get patch timestamp</span>
ls --full-<span class="reserved">time</span> rtmpdump-http-proxy2.patch
git commit -a --author <span class="string">'Daniel Burr &lt;dburr@topcon.com&gt;'</span> --date <span class="string">'2010-08-16 03:11:54 -0500'</span>
</pre></div>
</div>
</div>

<ul>
  <li><a href="http://doc.norang.ca/git-howto">doc.norang.ca/git-howto</a></li>
</ul>

<h3 id="filter-branch">Filter-branch</h3>

<div><div class="CodeRay">
  <div class="code"><pre><span class="comment"># Remove a file from every commit</span>
git filter-branch --tree-filter <span class="string">'rm -f passwords.txt'</span> HEAD
</pre></div>
</div>
</div>

<ul>
  <li><a href="http://progit.org/book/ch6-4">progit.org/book/ch6-4</a></li>
</ul>

<h3 id="format-patch">Format-patch</h3>

<div><div class="CodeRay">
  <div class="code"><pre><span class="comment"># This will create a patch from last commit</span>
git add -A
git commit -m <span class="string">'Commit message'</span>
git format-patch -<span class="integer">1</span>
</pre></div>
</div>
</div>

<ul>
  <li><a href="http://stackoverflow.com/a/9256253">stackoverflow.com/a/9256253</a></li>
</ul>

<h3 id="log">Log</h3>

<div><div class="CodeRay">
  <div class="code"><pre><span class="comment"># Last 10 commits with diffs</span>
git log -<span class="integer">10</span> -p
<span class="comment"># Commits with abbreviated commit hash</span>
git log --all --oneline
</pre></div>
</div>
</div>

<h3 id="merge">Merge</h3>

<div><div class="CodeRay">
  <div class="code"><pre><span class="comment"># Clone my repo</span>
git clone git@github.com<span class="reserved">:</span>svnpenn/rtmpdump.git
<span class="function">cd</span> rtmpdump
git checkout master
<span class="comment"># Pull in upstream changes</span>
git remote add upstream git<span class="reserved">:</span>//git.ffmpeg.org/rtmpdump 
git fetch upstream
git merge upstream/master
<span class="comment"># Merge commits from a fork</span>
git branch plugin2
git checkout plugin2
git remote add aajanki git<span class="reserved">:</span>//github.com/aajanki/rtmpdump.git
git fetch aajanki
git merge aajanki/plugin2
git push origin plugin2
</pre></div>
</div>
</div>

<h3 id="rebase">Rebase</h3>

<div><div class="CodeRay">
  <div class="code"><pre><span class="comment"># Get first commit</span>
git log --format=%H | tail -<span class="integer">1</span> 
git rebase -i dd61ab32
git push -f
</pre></div>
</div>
</div>

<ul>
  <li><a href="http://christoph.ruegg.name/blog/2010/5/5/git-howto-revert-a-commit-already-pushed-to-a-remote-reposit.html">christoph.ruegg.name/blog/2010/5/5/git-howto-revert-a-commit-already-pushed-to-a-remote-reposit.html</a></li>
</ul>

<h3 id="reset">Reset</h3>

<div><div class="CodeRay">
  <div class="code"><pre><span class="comment"># Undo a commit</span>
git reset HEAD^
</pre></div>
</div>
</div>

<ul>
  <li><a href="http://schacon.github.com/git/git-rev-parse">schacon.github.com/git/git-rev-parse</a></li>
</ul>

<h3 id="revision">Revision</h3>
<pre><code>git log --all --oneline | wc -l
</code></pre>

<ul>
  <li><a href="http://github.com/rubychan/coderay/blob/master/coderay.gemspec">github.com/rubychan/coderay/blob/master/coderay.gemspec</a></li>
</ul>



</div>
</body>
</html>